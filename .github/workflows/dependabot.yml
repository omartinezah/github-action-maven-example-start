name: Dependabot

on:
  repository_dispatch:
    types: [dependabot]
  pull_request:
    types: [opened, synchronize]
env:
  MY_WORKFLOW_VAR: 'Pull request generated for dependency updates dependabot Repository '
  WH_URL: 'https://softserveinc.webhook.office.com/webhookb2/bbf25948-b594-4365-89eb-5612f6013262@6c51c659-9d52-41af-81f7-dde16380e813/IncomingWebhook/86f1b27116a64aa487a5aaa948d88b63/9d48cbfa-9c54-4ece-89dd-5ced8eccffe4'
jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Microsoft Teams Webhook Notifications
        # You may pin to the exact commit or the version.
        # uses: dhollerbach/actions.send-message-to-ms-teams@667c1f3776261f1c7fe6be7e582f7e124bffee49
        uses: dhollerbach/actions.send-message-to-ms-teams@1.0.10
        with:
          # The webhook url for your Incoming Webhook connector
          webhook: ${{env.WH_URL}}
          # The message you want to send to your Microsoft Teams channel
          message: ${{ env.MY_WORKFLOW_VAR }} ${{ github.repository }}   
